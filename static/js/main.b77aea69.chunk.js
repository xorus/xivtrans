(this.webpackJsonpxivtrans=this.webpackJsonpxivtrans||[]).push([[0],{123:function(e,t,a){e.exports=a(206)},128:function(e,t,a){},130:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),s=(a(128),a(86)),l=a(54),i=a.n(l),u=a(56),m=a(83),f=(a(130),a(131),a(210)),p=a(212),d=a(211),g=a(207),h=a(209);function v(e){return r.a.createElement(h.a,{size:"large",onChange:function(t){e.onChange(t)},defaultValue:e.value},e.languages.map((function(e){return r.a.createElement(h.a.Option,{key:e,value:e},e.toUpperCase())})))}function E(e){for(var t="https://garlandtools.org/db/#",a=0,n=["item","quest","achievement","action","status","fate","leve",["ENpcResident","npc"]];a<n.length;a++){var r=n[a];if(Array.isArray(r)){if(0===e.Url.toLowerCase().indexOf("/".concat(r[0])))return"".concat(t).concat(r[1],"/").concat(e.ID)}else if(0===e.Url.toLowerCase().indexOf("/".concat(r)))return"".concat(t).concat(r,"/").concat(e.ID)}return"https://garlandtools.org/db/#search/"+encodeURI(e.Name)}function b(e){return r.a.createElement("div",{className:"result"},r.a.createElement("div",{className:"left"},r.a.createElement("a",{href:E(e.item),target:"blank"},r.a.createElement("img",{src:"https://xivapi.com/".concat(e.item.Icon),alt:"",className:"icon"}))),r.a.createElement("div",{className:"content","data-id":e.item.ID,"data-url":e.item.Url},e.displayedLangs.map((function(t){return r.a.createElement("span",{key:t},t.toUpperCase()," ",e.item["Name_"+t]," ",r.a.createElement("br",null))}))))}var O=["en","fr","ja","de"];function j(e,t){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",!1);case 2:return console.log("Searching for "+t),e.next=5,fetch("https://xivapi.com/search?language="+a+"&string="+encodeURIComponent(t)+"&columns=ID,Icon,Url,Name,Name_"+O.join(",Name_"));case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,n.json();case 10:return r=e.sent,e.abrupt("return",r.Results);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(){var e,t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)([]),h=Object(u.a)(l,2),E=h[0],k=h[1],w=Object(n.useState)(function(){var e,t=JSON.parse(null!==(e=localStorage.getItem("displayedLangs"))&&void 0!==e?e:'["en", "fr"]'),a=[];return t.forEach((function(e){O.includes(e)&&a.push(e)})),a}()),y=Object(u.a)(w,2),x=y[0],N=y[1],I=null!==(e=localStorage.getItem("lang"))&&void 0!==e?e:"en";O.includes(I)||(I="en");var S=Object(n.useState)(I),C=Object(u.a)(S,2),U=C[0],L=C[1];return Object(n.useEffect)((function(){Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(c,U);case 2:(t=e.sent)&&k(t);case 4:case"end":return e.stop()}}),e)})))()}),[U,c]),r.a.createElement(f.a,null,r.a.createElement(f.a.Content,null,r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{offsetTop:0},r.a.createElement("div",{className:"search"},O.map((function(e){return r.a.createElement("label",{key:e},r.a.createElement(d.a,{checked:x.includes(e),onChange:function(t){var a,n=Object(s.a)(x);if(t.target.checked)x.includes(e)||(n=[].concat(Object(s.a)(n),[e]));else{var r=x.indexOf(e);r>=0&&n.splice(r,1)}a=n,localStorage.setItem("displayedLangs",JSON.stringify(a)),N(a)}},e.toUpperCase()))})),r.a.createElement(g.a.Group,{compact:!0},r.a.createElement(v,{languages:O,value:U,onChange:function(e){return function(e){localStorage.setItem("lang",e),L(e)}(e)}}),r.a.createElement(g.a.Search,{size:"large",onSearch:function(e){o(e)},autoFocus:!0,style:{width:"80vw"}})))),r.a.createElement("div",{className:"results"},E.map((function(e){return r.a.createElement(b,{key:e.ID,displayedLangs:x,item:e})}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);
//# sourceMappingURL=main.b77aea69.chunk.js.map