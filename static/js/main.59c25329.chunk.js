(this.webpackJsonpxivtrans=this.webpackJsonpxivtrans||[]).push([[0],{126:function(e,t,a){e.exports=a(209)},131:function(e,t,a){},133:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),s=(a(131),a(88)),l=a(55),i=a.n(l),u=a(57),m=a(85),f=(a(133),a(134),a(213)),p=a(215),d=a(214),g=a(210),h=a(216),v=a(217),E=a(212);function b(e){return r.a.createElement(E.a,{size:"large",onChange:function(t){e.onChange(t)},defaultValue:e.value},e.languages.map((function(e){return r.a.createElement(E.a.Option,{key:e,value:e},e.toUpperCase())})))}function O(e){for(var t="https://garlandtools.org/db/#",a=0,n=["item","quest","achievement","action","status","fate","leve",["ENpcResident","npc"]];a<n.length;a++){var r=n[a];if(Array.isArray(r)){if(0===e.Url.toLowerCase().indexOf("/".concat(r[0])))return"".concat(t).concat(r[1],"/").concat(e.ID)}else if(0===e.Url.toLowerCase().indexOf("/".concat(r)))return"".concat(t).concat(r,"/").concat(e.ID)}return"https://garlandtools.org/db/#search/"+encodeURI(e.Name)}function j(e){return r.a.createElement("div",{className:"result"},r.a.createElement("div",{className:"left"},r.a.createElement("a",{href:O(e.item),target:"blank"},r.a.createElement("img",{src:"https://xivapi.com/".concat(e.item.Icon),alt:"",className:"icon"}))),r.a.createElement("div",{className:"content","data-id":e.item.ID,"data-url":e.item.Url},e.displayedLangs.map((function(t){return r.a.createElement("span",{key:t},t.toUpperCase()," ",e.item["Name_"+t]," ",r.a.createElement("br",null))}))))}var y=["en","fr","ja","de"];function k(e,t){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return",!1);case 2:return console.log("Searching for "+t),e.next=5,fetch("https://xivapi.com/search?language="+a+"&string="+encodeURIComponent(t)+"&columns=ID,Icon,Url,Name,Name_"+y.join(",Name_"));case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,n.json();case 10:return r=e.sent,e.abrupt("return",r.Results);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){var e,t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)([]),E=Object(u.a)(l,2),O=E[0],w=E[1],x=Object(n.useState)(function(){var e,t=JSON.parse(null!==(e=localStorage.getItem("displayedLangs"))&&void 0!==e?e:'["en", "fr"]'),a=[];return t.forEach((function(e){y.includes(e)&&a.push(e)})),a}()),N=Object(u.a)(x,2),I=N[0],S=N[1],C=null!==(e=localStorage.getItem("lang"))&&void 0!==e?e:"en";y.includes(C)||(C="en");var U=Object(n.useState)(C),L=Object(u.a)(U,2),D=L[0],J=L[1];return Object(n.useEffect)((function(){Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(c,D);case 2:(t=e.sent)&&w(t);case 4:case"end":return e.stop()}}),e)})))()}),[D,c]),r.a.createElement(f.a,null,r.a.createElement(f.a.Content,null,r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{offsetTop:0},r.a.createElement("div",{className:"search"},y.map((function(e){return r.a.createElement("label",{key:e},r.a.createElement(d.a,{checked:I.includes(e),onChange:function(t){var a,n=Object(s.a)(I);if(t.target.checked)I.includes(e)||(n=[].concat(Object(s.a)(n),[e]));else{var r=I.indexOf(e);r>=0&&n.splice(r,1)}a=n,localStorage.setItem("displayedLangs",JSON.stringify(a)),S(a)}},e.toUpperCase()))})),r.a.createElement(g.a.Group,{compact:!0},r.a.createElement(b,{languages:y,value:D,onChange:function(e){return function(e){localStorage.setItem("lang",e),J(e)}(e)}}),r.a.createElement(g.a.Search,{size:"large",onSearch:function(e){o(e)},autoFocus:!0,style:{width:"80vw"}})))),r.a.createElement(h.a,{justify:"center"},r.a.createElement(v.a,{xs:24,sm:20,md:16,lg:10},r.a.createElement("div",{className:"results"},O.map((function(e){return r.a.createElement(j,{key:e.ID,displayedLangs:I,item:e})}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[126,1,2]]]);
//# sourceMappingURL=main.59c25329.chunk.js.map